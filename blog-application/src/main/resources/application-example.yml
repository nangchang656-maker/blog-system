server:
  port: 8088
  address: 0.0.0.0  # 绑定到所有网络接口，允许从 Windows 访问

spring:
  application:
    name: blog-application

  # MySQL 数据源配置
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/blog_db?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai&useSSL=false
    username: your_database_username
    password: your_database_password
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000
      filters: stat,wall
      # Druid监控页面配置
      stat-view-servlet:
        enabled: true
        url-pattern: /druid/*
        login-username: your_druid_username
        login-password: your_druid_password
        reset-enable: false
      web-stat-filter:
        enabled: true
        url-pattern: /*
        exclusions: "*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*"

  # Redis 配置
  data:
    redis:
      host: localhost
      port: 6379
      password: your_redis_password
      database: 0
      timeout: 5000ms
      lettuce:
        pool:
          max-active: 30
          max-wait: 3000ms
          max-idle: 10
          min-idle: 3

  # Elasticsearch 配置
  elasticsearch:
    uris: http://localhost:9200
    connection-timeout: 5s
    socket-timeout: 60s

  # qq邮箱
  mail:
    host: smtp.qq.com
    username: your_email@qq.com
    password: your_email_authorization_code
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true

# MyBatis Plus 配置
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      id-type: AUTO
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
  # mapper 映射文件位置
  mapper-locations: classpath:mapper/*.xml
  # 实体类别名扫描包
  type-aliases-package: cn.lzx.entity

# Knife4j 配置
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
knife4j:
  enable: true
  setting:
    language: zh-CN

# 日志配置
logging:
  level:
    root: INFO
    '[cn.lzx]': DEBUG
    '[cn.lzx.blog.mapper]': DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n"

minio:
  endpoint: http://localhost:9000
  access-key: your_minio_access_key
  secret-key: your_minio_secret_key
  bucket-name: blog-files

# RocketMQ 配置
rocketmq:
  name-server: localhost:9876
  producer:
    group: blog-producer-group
    send-message-timeout: 3000
    retry-times-when-send-failed: 2
    retry-times-when-send-async-failed: 2

# 智普AI 配置
zhipu:
  ai:
    api-key: your_zhipu_ai_api_key
    model: glm-4
    timeout: 30000
